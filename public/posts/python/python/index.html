<!doctype html><html lang=zh dir=auto><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=40225&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>python入门 | Sweetpear's Blog</title>
<meta name=keywords content="python"><meta name=description content="python基础语法，包括数据类型、函数、类等"><meta name=author content="sweetpear"><link rel=canonical href=http://localhost:40225/posts/python/python/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.3fc1ba2d14e90d33083d28e9dfdc10d8fe61b73de67e0d23e3dcdef510c9b9d2.css integrity="sha256-P8G6LRTpDTMIPSjp39wQ2P5htz3mfg0j49ze9RDJudI=" rel="preload stylesheet" as=style><link rel=icon href=http://localhost:40225/icon.png><link rel=icon type=image/png sizes=16x16 href=http://localhost:40225/icon.png><link rel=icon type=image/png sizes=32x32 href=http://localhost:40225/icon.png><link rel=apple-touch-icon href=http://localhost:40225/icon.png><link rel=mask-icon href=http://localhost:40225/icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=zh href=http://localhost:40225/posts/python/python/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="python入门"><meta property="og:description" content="python基础语法，包括数据类型、函数、类等"><meta property="og:type" content="article"><meta property="og:url" content="http://localhost:40225/posts/python/python/"><meta property="og:image" content="http://localhost:40225/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-08-08T00:00:00+08:00"><meta property="article:modified_time" content="2024-08-08T00:00:00+08:00"><meta property="og:site_name" content="Sweetpear's Blog"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="http://localhost:40225/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="python入门"><meta name=twitter:description content="python基础语法，包括数据类型、函数、类等"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"http://localhost:40225/posts/"},{"@type":"ListItem","position":2,"name":"python入门","item":"http://localhost:40225/posts/python/python/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"python入门","name":"python入门","description":"python基础语法，包括数据类型、函数、类等","keywords":["python"],"articleBody":"python入门 动态语言 在运行时确定变量类型\n优势：灵活、简洁、更快的开发周期 劣势：缺乏编译期类型检查容易出错 特性 动态添加属性和方法、动态类型绑定、反射和元编程\n底层实现 有一个基类承接所有对象，从而实现动态类型\n数据类型 基本类型 字符串、整数、浮点数、布尔值(True, False)、空值(None)\n一些运算符：\n// 与 / ：前者保留商的整数部分，后者是float类型的商 逻辑运算符：and or not List 声明方式：list = [1, '2', xxx]\n生成式声明：list = [expr for iter_var in iterable if cond_expr]\nList中可以存各种类型的元素\n相关操作 List截取与go中切片语法类似 [:]\n追加.append\n指定位置插入.insert\n追加另一个list.extend 或 list1 + list2\n三种移除方式 .pop、.remove、del list[idx]\n是否包含 x in list\nTuple 声明方式： tuple = (1, '2', xxx) 单元素声明： tuple = (1,)\n单元素声明要带逗号，否则会被认为是该单元素的数据类型\n与List不同的是Tuple是不可变的，但也不是完全不可变：\n不可变指：Tuple的每个元素，指向永远不变。但是可以改变Tuple中元素的元素（例如元素List中再追加、改变元素的属性等）\n其他相关操作除了没有修改之外与List相同\nDict 声明方式： dict = {1 : xx, 'yy' : 2}\nkey必须是不可变的：数字，字符串或元组\n相关操作 .clear 清空\n.items 以列表返回可遍历的(键, 值) 元组数组\nSet 声明方式： s = set([1, '2', xxx]) 使用List作为输入\n相关操作 添加 .add\n移除一个元素 .remove\n并集 | 交集 \u0026 差集 -\n函数参数 默认参数 def print_user_info( name , age , sex = '男' ): 默认参数只能放在末尾 默认参数只能是不可变对象（字符串、数字、元组、布尔、None） 如果用可变对象做默认参数，会出现默认值被改变\n关键字参数 print_user_info(name='甜味梨', sex='女', age=18) 在调用时指定参数关键字进行赋值\n如果想要对于某些形参强制指定需要使用关键字参数，可以在定义时通过 * 分隔形参，*后的形参为需要指定关键字的\ndef print_user_info(name, *, age, sex='男'): 不定长参数（位置参数） 通过在形参前加 * 来声明不定长参数，实际上是用一个元组接收 如果想要在调用时也能使用关键字参数，需要在形参前加 **，这样会将接收到的参数存放到字典中 例子：\ndef print_user_info(name, age, *args, sex='男', **kwargs): print('昵称：{}'.format(name) , end = ' ') print('年龄：{}'.format(age) , end = ' ') print('性别：{}'.format(sex) ,end = ' ' ) print('args:{}'.format(args),end = ' ') print('kwargs:{}'.format(kwargs)) if __name__ == '__main__' : print_user_info('甜味梨', 18, 'arg1', 'arg2', hobby=('打篮球','打羽毛球','跑步'), height=179) # output: # 昵称：甜味梨 年龄：18 性别：男 args:('arg1', 'arg2') kwargs:{'hobby': ('打篮球', '打羽毛球', '跑步'), 'height': 179} lambda 函数 lambda [arg1 [,arg2,.....argn]]:expression lambda函数是一个表达式而非代码块，所以拥有自己的命名空间，且不能访问自有参数列表之外或全局命名空间里的参数。 换句话说，lambda用到的参数只能通过形参传入，不能用外部的变量，否则会出错。\n坑：\nif __name__ == '__main__' : num2 = 100 sum1 = lambda num1 : num1 + num2 num2 = 10000 sum2 = lambda num1 : num1 + num2 num2 = 1 print(sum1(1)) print(sum2(1)) # output: 2 2 原因：num2变量在运行时绑定值，而不是定义时就绑定\n迭代器和生成器 迭代器 使用 iter() 生成一个迭代器，通过 next() 取下一个值，或者在for循环中使用 in 依次取值。\n只有实现了 __iter__ 方法的对象才能使用生成器，否则需要自己写。\n反向迭代需要实现 __reversed__ 方法。\n生成器 在函数声明中使用 yield 返回一个生成器对象而不是像return一样返回结果。\nyield返回后当前的这个生成器函数会记录当前状态，在下次调用时从暂停处继续。\n优势：惰性求值的特点可以节约内存，适合处理大型数据集或创建复杂的数据流。\n面向对象 实例方法和类方法 类中函数上加 @classmethod 注解表示这个方法是类方法，绑定在类上，调用时不需要实例化直接类名.方法调用。\n实例属性和类属性 实例属性在 __init__ 函数中声明，类属性在类中声明。\nps: 一个类只能有一个构造器，但是可以通过类方法变相实现多个构造器。\n访问控制 在属性或方法前加两个下划线 __ ，表明私有性，不能在类外访问且不能被继承。\n私有性实现的原理是通过名称改写，如 __var1 私有属性会被改写为 _类名称__var1，因此按照定义的名称访问不到， 但是通过改写后的名称是可以访问的。所以所谓“私有”只是方便开发所做的优化，并不是真的私有。 动态修改 基于python动态语言的特性，在类外可以通过声明一个新方法并 className.oldMethod = newMethod 对旧方法进行重写，修改会应用到所有已经创建的实例中。\n同理对于类属性的修改和增添也可以在类外动态修改。\n实例属性可以动态增添修改，但不能对实例方法进行重写。\n模块与包 导入 import moduleName 直接导入模块，调用时 moduleName.xxx\nfrom moduleName import xxx 会将该模块中的指定类或方法或属性导入当前模块，调用时就不用加 moduleName 而是直接使用导入模块中的命名。\n主模块 如果这个模块没有被引用过，那么就是主模块，否则为非主模块。有一个系统变量__name__就是用来记录模块属性的。\n包 为了避免模块名冲突，python又引入了按目录来组织模块的方法，称为包（Package）。\n对于拥有 __init__.py 文件的目录，python会将其视为一个包。\n闭包 闭包是一个函数值，它引用了其函数体之外的变量。通过某种数据结构存储一个函数和一个关联的上下文环境，实现闭包的特性。\n例子：\ntime = 0 def study_time(time): def insert_time(min): nonlocal time time = time + min return time return insert_time f = study_time(time) print(f(2)) # 2 print(time) # 0 print(f(10)) # 12 print(time) # 0 python中在函数的__closure__属性中保存上下文环境，从而使得每个闭包都能拥有独立的函数外部变量。\nps:\nnonlocal 在函数内部声明一个外部函数的变量 global 在函数内部声明一个全局变量 装饰器 装饰器利用闭包的特性实现\n作用：不修改原有函数代码的基础上，动态地增加或修改函数的功能。解耦通用的功能。\ndef my_decorator(func): def wrapper(*args, **kwargs): print(\"Something is happening before the function is called.\") result = func(*args, **kwargs) print(\"Something is happening after the function is called.\") return result return wrapper @my_decorator def say_hello(name): print(f\"Hello, {name}!\") say_hello(\"Alice\") # output: # Something is happening before the function is called. # Hello, Alice! # Something is happening after the function is called. ","wordCount":"412","inLanguage":"zh","datePublished":"2024-08-08T00:00:00+08:00","dateModified":"2024-08-08T00:00:00+08:00","author":{"@type":"Person","name":"sweetpear"},"mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:40225/posts/python/python/"},"publisher":{"@type":"Organization","name":"Sweetpear's Blog","logo":{"@type":"ImageObject","url":"http://localhost:40225/icon.png"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=http://localhost:40225/ accesskey=h title="Sweetpear's Blog (Alt + H)"><img src=http://localhost:40225/icon.png alt aria-label=logo height=35>Sweetpear's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=http://localhost:40225/archives/ title=归档><span>归档</span></a></li><li><a href=http://localhost:40225/tags/ title=标签><span>标签</span></a></li><li><a href=http://localhost:40225/search/ title="搜索 (Alt + /)" accesskey=/><span>搜索</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=http://localhost:40225/>主页</a>&nbsp;»&nbsp;<a href=http://localhost:40225/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">python入门</h1><div class=post-meta><span title='2024-08-08 00:00:00 +0800 CST'>2024-08-08</span>&nbsp;·&nbsp;sweetpear&nbsp;|&nbsp;<a href=https://github.com/sweetpear0108/blog/tree/main/content/posts/python/python.md rel="noopener noreferrer" target=_blank>修改建议</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>目录</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#动态语言>动态语言</a><ul><li><a href=#特性>特性</a></li><li><a href=#底层实现>底层实现</a></li></ul></li><li><a href=#数据类型>数据类型</a><ul><li><a href=#基本类型>基本类型</a></li><li><a href=#list>List</a></li><li><a href=#tuple>Tuple</a></li><li><a href=#dict>Dict</a></li><li><a href=#set>Set</a></li></ul></li><li><a href=#函数参数>函数参数</a><ul><li><a href=#默认参数>默认参数</a></li><li><a href=#关键字参数>关键字参数</a></li><li><a href=#不定长参数位置参数>不定长参数（位置参数）</a></li></ul></li><li><a href=#lambda-函数>lambda 函数</a></li><li><a href=#迭代器和生成器>迭代器和生成器</a><ul><li><a href=#迭代器>迭代器</a></li><li><a href=#生成器>生成器</a></li></ul></li><li><a href=#面向对象>面向对象</a><ul><li><a href=#实例方法和类方法>实例方法和类方法</a></li><li><a href=#实例属性和类属性>实例属性和类属性</a></li><li><a href=#访问控制>访问控制</a></li><li><a href=#动态修改>动态修改</a></li></ul></li><li><a href=#模块与包>模块与包</a><ul><li><a href=#导入>导入</a></li><li><a href=#主模块>主模块</a></li><li><a href=#包>包</a></li></ul></li><li><a href=#闭包>闭包</a></li><li><a href=#装饰器>装饰器</a></li></ul></nav></div></details></div><div class=post-content><h1 id=python入门>python入门<a hidden class=anchor aria-hidden=true href=#python入门>#</a></h1><h2 id=动态语言>动态语言<a hidden class=anchor aria-hidden=true href=#动态语言>#</a></h2><p>在运行时确定变量类型</p><ul><li>优势：灵活、简洁、更快的开发周期</li><li>劣势：缺乏编译期类型检查容易出错</li></ul><h3 id=特性>特性<a hidden class=anchor aria-hidden=true href=#特性>#</a></h3><p>动态添加属性和方法、动态类型绑定、反射和元编程</p><h3 id=底层实现>底层实现<a hidden class=anchor aria-hidden=true href=#底层实现>#</a></h3><p>有一个基类承接所有对象，从而实现动态类型</p><h2 id=数据类型>数据类型<a hidden class=anchor aria-hidden=true href=#数据类型>#</a></h2><h3 id=基本类型>基本类型<a hidden class=anchor aria-hidden=true href=#基本类型>#</a></h3><p>字符串、整数、浮点数、布尔值(True, False)、空值(None)</p><p>一些运算符：</p><ul><li><code>//</code> 与 <code>/</code> ：前者保留商的整数部分，后者是float类型的商</li><li>逻辑运算符：<code>and</code> <code>or</code> <code>not</code></li></ul><h3 id=list>List<a hidden class=anchor aria-hidden=true href=#list>#</a></h3><p>声明方式：<code>list = [1, '2', xxx]</code></p><p>生成式声明：<code>list = [expr for iter_var in iterable if cond_expr]</code></p><p>List中可以存各种类型的元素</p><h4 id=相关操作>相关操作<a hidden class=anchor aria-hidden=true href=#相关操作>#</a></h4><p>List截取与go中切片语法类似 <code>[:]</code></p><p>追加<code>.append</code></p><p>指定位置插入<code>.insert</code></p><p>追加另一个list<code>.extend</code> 或 <code>list1 + list2</code></p><p>三种移除方式 <code>.pop</code>、<code>.remove</code>、<code>del list[idx]</code></p><p>是否包含 <code>x in list</code></p><h3 id=tuple>Tuple<a hidden class=anchor aria-hidden=true href=#tuple>#</a></h3><p>声明方式： <code>tuple = (1, '2', xxx)</code> 单元素声明： <code>tuple = (1,)</code></p><p>单元素声明要带逗号，否则会被认为是该单元素的数据类型</p><p>与List不同的是Tuple是不可变的，但也不是完全不可变：</p><p>不可变指：Tuple的每个元素，指向永远不变。但是可以改变Tuple中元素的元素（例如元素List中再追加、改变元素的属性等）</p><p>其他相关操作除了没有修改之外与List相同</p><h3 id=dict>Dict<a hidden class=anchor aria-hidden=true href=#dict>#</a></h3><p>声明方式： <code>dict = {1 : xx, 'yy' : 2}</code></p><p>key必须是不可变的：数字，字符串或元组</p><h4 id=相关操作-1>相关操作<a hidden class=anchor aria-hidden=true href=#相关操作-1>#</a></h4><p><code>.clear</code> 清空</p><p><code>.items</code> 以列表返回可遍历的(键, 值) 元组数组</p><h3 id=set>Set<a hidden class=anchor aria-hidden=true href=#set>#</a></h3><p>声明方式： <code>s = set([1, '2', xxx])</code> 使用List作为输入</p><h4 id=相关操作-2>相关操作<a hidden class=anchor aria-hidden=true href=#相关操作-2>#</a></h4><p>添加 <code>.add</code></p><p>移除一个元素 <code>.remove</code></p><p>并集 <code>|</code> 交集 <code>&</code> 差集 <code>-</code></p><h2 id=函数参数>函数参数<a hidden class=anchor aria-hidden=true href=#函数参数>#</a></h2><h3 id=默认参数>默认参数<a hidden class=anchor aria-hidden=true href=#默认参数>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>print_user_info</span><span class=p>(</span> <span class=n>name</span> <span class=p>,</span> <span class=n>age</span> <span class=p>,</span> <span class=n>sex</span> <span class=o>=</span> <span class=s1>&#39;男&#39;</span> <span class=p>):</span>
</span></span></code></pre></div><ul><li>默认参数只能放在末尾</li><li>默认参数只能是不可变对象（字符串、数字、元组、布尔、None）</li></ul><p>如果用可变对象做默认参数，会出现默认值被改变</p><h3 id=关键字参数>关键字参数<a hidden class=anchor aria-hidden=true href=#关键字参数>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>print_user_info</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=s1>&#39;甜味梨&#39;</span><span class=p>,</span> <span class=n>sex</span><span class=o>=</span><span class=s1>&#39;女&#39;</span><span class=p>,</span> <span class=n>age</span><span class=o>=</span><span class=mi>18</span><span class=p>)</span>
</span></span></code></pre></div><p>在调用时指定参数关键字进行赋值</p><p>如果想要对于某些形参<strong>强制指定</strong>需要使用关键字参数，可以在定义时通过 <code>*</code> 分隔形参，*后的形参为需要指定关键字的</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>print_user_info</span><span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=o>*</span><span class=p>,</span> <span class=n>age</span><span class=p>,</span> <span class=n>sex</span><span class=o>=</span><span class=s1>&#39;男&#39;</span><span class=p>):</span>
</span></span></code></pre></div><h3 id=不定长参数位置参数>不定长参数（位置参数）<a hidden class=anchor aria-hidden=true href=#不定长参数位置参数>#</a></h3><ul><li>通过在形参前加 <code>*</code> 来声明不定长参数，实际上是用一个<strong>元组</strong>接收</li><li>如果想要在调用时也能使用<strong>关键字参数</strong>，需要在形参前加 <code>**</code>，这样会将接收到的参数存放到<strong>字典</strong>中</li></ul><p>例子：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>print_user_info</span><span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=n>age</span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=n>sex</span><span class=o>=</span><span class=s1>&#39;男&#39;</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;昵称：</span><span class=si>{}</span><span class=s1>&#39;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>name</span><span class=p>)</span> <span class=p>,</span> <span class=n>end</span> <span class=o>=</span> <span class=s1>&#39; &#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;年龄：</span><span class=si>{}</span><span class=s1>&#39;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>age</span><span class=p>)</span> <span class=p>,</span> <span class=n>end</span> <span class=o>=</span> <span class=s1>&#39; &#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;性别：</span><span class=si>{}</span><span class=s1>&#39;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>sex</span><span class=p>)</span> <span class=p>,</span><span class=n>end</span> <span class=o>=</span> <span class=s1>&#39; &#39;</span> <span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;args:</span><span class=si>{}</span><span class=s1>&#39;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>args</span><span class=p>),</span><span class=n>end</span> <span class=o>=</span> <span class=s1>&#39; &#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;kwargs:</span><span class=si>{}</span><span class=s1>&#39;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>kwargs</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span> <span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>print_user_info</span><span class=p>(</span><span class=s1>&#39;甜味梨&#39;</span><span class=p>,</span> <span class=mi>18</span><span class=p>,</span> <span class=s1>&#39;arg1&#39;</span><span class=p>,</span> <span class=s1>&#39;arg2&#39;</span><span class=p>,</span> <span class=n>hobby</span><span class=o>=</span><span class=p>(</span><span class=s1>&#39;打篮球&#39;</span><span class=p>,</span><span class=s1>&#39;打羽毛球&#39;</span><span class=p>,</span><span class=s1>&#39;跑步&#39;</span><span class=p>),</span> <span class=n>height</span><span class=o>=</span><span class=mi>179</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># output:</span>
</span></span><span class=line><span class=cl><span class=c1># 昵称：甜味梨 年龄：18 性别：男 args:(&#39;arg1&#39;, &#39;arg2&#39;) kwargs:{&#39;hobby&#39;: (&#39;打篮球&#39;, &#39;打羽毛球&#39;, &#39;跑步&#39;), &#39;height&#39;: 179}</span>
</span></span></code></pre></div><h2 id=lambda-函数>lambda 函数<a hidden class=anchor aria-hidden=true href=#lambda-函数>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>lambda</span> <span class=p>[</span><span class=n>arg1</span> <span class=p>[,</span><span class=n>arg2</span><span class=p>,</span><span class=o>.....</span><span class=n>argn</span><span class=p>]]:</span><span class=n>expression</span>
</span></span></code></pre></div><p>lambda函数是一个<strong>表达式</strong>而非代码块，所以拥有自己的命名空间，且不能访问自有参数列表之外或全局命名空间里的参数。
换句话说，lambda用到的参数只能通过形参传入，不能用外部的变量，否则会出错。</p><p>坑：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span> <span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>num2</span> <span class=o>=</span> <span class=mi>100</span>
</span></span><span class=line><span class=cl>    <span class=n>sum1</span> <span class=o>=</span> <span class=k>lambda</span> <span class=n>num1</span> <span class=p>:</span> <span class=n>num1</span> <span class=o>+</span> <span class=n>num2</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>num2</span> <span class=o>=</span> <span class=mi>10000</span>
</span></span><span class=line><span class=cl>    <span class=n>sum2</span> <span class=o>=</span> <span class=k>lambda</span> <span class=n>num1</span> <span class=p>:</span> <span class=n>num1</span> <span class=o>+</span> <span class=n>num2</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>num2</span> <span class=o>=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>sum1</span><span class=p>(</span><span class=mi>1</span><span class=p>))</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>sum2</span><span class=p>(</span><span class=mi>1</span><span class=p>))</span>
</span></span><span class=line><span class=cl>    <span class=c1># output: 2 2</span>
</span></span></code></pre></div><p>原因：num2变量在<strong>运行时</strong>绑定值，而不是定义时就绑定</p><h2 id=迭代器和生成器>迭代器和生成器<a hidden class=anchor aria-hidden=true href=#迭代器和生成器>#</a></h2><h3 id=迭代器>迭代器<a hidden class=anchor aria-hidden=true href=#迭代器>#</a></h3><p>使用 <code>iter()</code> 生成一个迭代器，通过 <code>next()</code> 取下一个值，或者在for循环中使用 <code>in</code> 依次取值。</p><p>只有实现了 <code>__iter__</code> 方法的对象才能使用生成器，否则需要自己写。</p><p>反向迭代需要实现 <code>__reversed__</code> 方法。</p><h3 id=生成器>生成器<a hidden class=anchor aria-hidden=true href=#生成器>#</a></h3><p>在函数声明中使用 <code>yield</code> 返回一个生成器对象而不是像return一样返回结果。</p><p><code>yield</code>返回后当前的这个生成器函数会记录当前状态，在下次调用时从暂停处继续。</p><p>优势：惰性求值的特点可以节约内存，适合处理大型数据集或创建复杂的数据流。</p><h2 id=面向对象>面向对象<a hidden class=anchor aria-hidden=true href=#面向对象>#</a></h2><h3 id=实例方法和类方法>实例方法和类方法<a hidden class=anchor aria-hidden=true href=#实例方法和类方法>#</a></h3><p>类中函数上加 <code>@classmethod</code> 注解表示这个方法是类方法，绑定在类上，调用时不需要实例化直接<code>类名.方法</code>调用。</p><h3 id=实例属性和类属性>实例属性和类属性<a hidden class=anchor aria-hidden=true href=#实例属性和类属性>#</a></h3><p>实例属性在 <code>__init__</code> 函数中声明，类属性在类中声明。</p><p>ps: 一个类只能有一个构造器，但是可以通过类方法变相实现多个构造器。</p><h3 id=访问控制>访问控制<a hidden class=anchor aria-hidden=true href=#访问控制>#</a></h3><p>在属性或方法前加两个下划线 <code>__</code> ，表明私有性，不能在类外访问且不能被继承。</p><ul><li>私有性实现的原理是通过名称改写，如 <code>__var1</code> 私有属性会被改写为 <code>_类名称__var1</code>，因此按照定义的名称访问不到，
但是通过改写后的名称是可以访问的。所以所谓“私有”只是方便开发所做的优化，并不是真的私有。</li></ul><h3 id=动态修改>动态修改<a hidden class=anchor aria-hidden=true href=#动态修改>#</a></h3><p>基于python动态语言的特性，在类外可以通过声明一个新方法并 <code>className.oldMethod = newMethod</code> 对旧方法进行重写，<strong>修改会应用到所有已经创建的实例中</strong>。</p><p>同理对于类属性的修改和增添也可以在类外动态修改。</p><p>实例属性可以动态增添修改，但不能对实例方法进行重写。</p><h2 id=模块与包>模块与包<a hidden class=anchor aria-hidden=true href=#模块与包>#</a></h2><h3 id=导入>导入<a hidden class=anchor aria-hidden=true href=#导入>#</a></h3><p><code>import moduleName</code> 直接导入模块，调用时 <code>moduleName.xxx</code></p><p><code>from moduleName import xxx</code> 会将该模块中的指定类或方法或属性导入当前模块，调用时就不用加 <code>moduleName</code> 而是直接使用导入模块中的命名。</p><h3 id=主模块>主模块<a hidden class=anchor aria-hidden=true href=#主模块>#</a></h3><p>如果这个模块没有被引用过，那么就是主模块，否则为非主模块。有一个系统变量<code>__name__</code>就是用来记录模块属性的。</p><h3 id=包>包<a hidden class=anchor aria-hidden=true href=#包>#</a></h3><p>为了避免模块名冲突，python又引入了按目录来组织模块的方法，称为包（Package）。</p><p>对于拥有 <code>__init__.py</code> 文件的目录，python会将其视为一个包。</p><h2 id=闭包>闭包<a hidden class=anchor aria-hidden=true href=#闭包>#</a></h2><p>闭包是一个函数值，它引用了其函数体之外的变量。通过某种数据结构存储一个函数和一个关联的上下文环境，实现闭包的特性。</p><p>例子：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>time</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>study_time</span><span class=p>(</span><span class=n>time</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>insert_time</span><span class=p>(</span><span class=nb>min</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>nonlocal</span>  <span class=n>time</span> 
</span></span><span class=line><span class=cl>        <span class=n>time</span> <span class=o>=</span> <span class=n>time</span> <span class=o>+</span> <span class=nb>min</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>time</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>insert_time</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>f</span> <span class=o>=</span> <span class=n>study_time</span><span class=p>(</span><span class=n>time</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>f</span><span class=p>(</span><span class=mi>2</span><span class=p>))</span> <span class=c1># 2</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>time</span><span class=p>)</span> <span class=c1># 0</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>f</span><span class=p>(</span><span class=mi>10</span><span class=p>))</span> <span class=c1># 12</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>time</span><span class=p>)</span> <span class=c1># 0</span>
</span></span></code></pre></div><p>python中在函数的<code>__closure__</code>属性中保存上下文环境，从而使得每个闭包都能拥有独立的函数外部变量。</p><p>ps:</p><ul><li><code>nonlocal</code> 在函数内部声明一个外部函数的变量</li><li><code>global</code> 在函数内部声明一个全局变量</li></ul><h2 id=装饰器>装饰器<a hidden class=anchor aria-hidden=true href=#装饰器>#</a></h2><p>装饰器利用闭包的特性实现</p><p>作用：不修改原有函数代码的基础上，动态地增加或修改函数的功能。解耦通用的功能。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>my_decorator</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>wrapper</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Something is happening before the function is called.&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>result</span> <span class=o>=</span> <span class=n>func</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Something is happening after the function is called.&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>result</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>wrapper</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@my_decorator</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>say_hello</span><span class=p>(</span><span class=n>name</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Hello, </span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2>!&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>say_hello</span><span class=p>(</span><span class=s2>&#34;Alice&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># output:</span>
</span></span><span class=line><span class=cl><span class=c1># Something is happening before the function is called.</span>
</span></span><span class=line><span class=cl><span class=c1># Hello, Alice!</span>
</span></span><span class=line><span class=cl><span class=c1># Something is happening after the function is called.</span>
</span></span></code></pre></div></div><footer class=post-footer><ul class=post-tags><li><a href=http://localhost:40225/tags/python/>Python</a></li></ul><nav class=paginav><a class=prev href=http://localhost:40225/posts/iltes/%E9%9B%85%E6%80%9D%E6%8A%80%E5%B7%A7/><span class=title>« 上一页</span><br><span>雅思听说读写技巧</span>
</a><a class=next href=http://localhost:40225/posts/postgres/pg_timeout/><span class=title>下一页 »</span><br><span>Postgres 批量删除语句超时</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share python入门 on x" href="https://x.com/intent/tweet/?text=python%e5%85%a5%e9%97%a8&amp;url=http%3a%2f%2flocalhost%3a40225%2fposts%2fpython%2fpython%2f&amp;hashtags=python"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share python入门 on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http%3a%2f%2flocalhost%3a40225%2fposts%2fpython%2fpython%2f&amp;title=python%e5%85%a5%e9%97%a8&amp;summary=python%e5%85%a5%e9%97%a8&amp;source=http%3a%2f%2flocalhost%3a40225%2fposts%2fpython%2fpython%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share python入门 on reddit" href="https://reddit.com/submit?url=http%3a%2f%2flocalhost%3a40225%2fposts%2fpython%2fpython%2f&title=python%e5%85%a5%e9%97%a8"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share python入门 on facebook" href="https://facebook.com/sharer/sharer.php?u=http%3a%2f%2flocalhost%3a40225%2fposts%2fpython%2fpython%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share python入门 on whatsapp" href="https://api.whatsapp.com/send?text=python%e5%85%a5%e9%97%a8%20-%20http%3a%2f%2flocalhost%3a40225%2fposts%2fpython%2fpython%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share python入门 on telegram" href="https://telegram.me/share/url?text=python%e5%85%a5%e9%97%a8&amp;url=http%3a%2f%2flocalhost%3a40225%2fposts%2fpython%2fpython%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share python入门 on ycombinator" href="https://news.ycombinator.com/submitlink?t=python%e5%85%a5%e9%97%a8&u=http%3a%2f%2flocalhost%3a40225%2fposts%2fpython%2fpython%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentcolor" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer></article></main><footer class=footer><span>&copy; 2024 <a href=http://localhost:40225/>Sweetpear's Blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="复制";function s(){t.innerHTML="已复制！",setTimeout(()=>{t.innerHTML="复制"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>